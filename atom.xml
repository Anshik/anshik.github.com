<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Ещё один блог]]></title>
  <link href="http://Anshik.github.com/atom.xml" rel="self"/>
  <link href="http://Anshik.github.com/"/>
  <updated>2012-06-07T11:53:54+04:00</updated>
  <id>http://Anshik.github.com/</id>
  <author>
    <name><![CDATA[Anshik]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Module cuisine, как нахлобучка над Fabric]]></title>
    <link href="http://Anshik.github.com/blog/2012/06/07/module-cuisine/"/>
    <updated>2012-06-07T10:25:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/06/07/module-cuisine</id>
    <content type="html"><![CDATA[<h3>Что такое Cuisine?</h3>

<p>Cuisine это надстройка, набор сахара, дополнительный уровень абстракции над <a href="http://Anshik.github.com/blog/2012/06/06/fabric-dlia-python">Fabric</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Как установить Hypercomments в Octopress]]></title>
    <link href="http://Anshik.github.com/blog/2012/06/06/kak-ustanovit-hypercomments-v-octopress/"/>
    <updated>2012-06-06T16:59:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/06/06/kak-ustanovit-hypercomments-v-octopress</id>
    <content type="html"><![CDATA[<h3>Введение</h3>

<p>В Octopress по умолчанию предлагается использовать комментарии Disqus, а захотелось попробовать более гиковские Hypercomments. Решил разобраться с вопросом.</p>

<!-- more -->


<h3>Регистрация</h3>

<p>Регистрируемся на <a href="http://hypercomments.com/">сайте</a>
Получаем код виджета для вставления в свой сайт.</p>

<figure class='code'><figcaption><span>У меня он выглядит так</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;hypercomments_widget&quot;</span><span class="nt">&gt;&lt;/div&gt;&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">_hcp</span> <span class="o">=</span> <span class="nx">_hcp</span> <span class="o">||</span> <span class="p">{};</span>
</span><span class='line'><span class="nx">_hcp</span><span class="p">.</span><span class="nx">widget_id</span> <span class="o">=</span> <span class="mi">1551</span><span class="p">;</span>
</span><span class='line'><span class="nx">_hcp</span><span class="p">.</span><span class="nx">widget</span> <span class="o">=</span> <span class="s2">&quot;Stream&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">hcc</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span> <span class="nx">hcc</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;text/javascript&quot;</span><span class="p">;</span> <span class="nx">hcc</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'><span class="nx">hcc</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;https:&quot;</span> <span class="o">==</span> <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span> <span class="o">?</span> <span class="s2">&quot;https&quot;</span> <span class="o">:</span> <span class="s2">&quot;http&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;://widget.hypercomments.com/apps/js/hc.js&quot;</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span> <span class="nx">s</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">hcc</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nx">nextSibling</span><span class="p">);</span>
</span><span class='line'><span class="p">})();</span><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Встраивание</h3>

<p>Я встраивал немного костылём, зато быстро.
Создаём файл <code>source/_insludes/hypercomments.html</code></p>

<p><img class="center" src="http://Anshik.github.com/../blog_img/hypercomments.png" title="Вот как должен выглядеть файл" ></p>

<p>Я оставил проверку наличия комментов Дискурса.
Дальше меняем файлы <code>source/_layouts/page.html, source/_layouts/page.html</code> в обоих файлах одинаковый кусочек кода</p>

<figure class='code'><figcaption><span>Было, стало</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>  <span class="c">&lt;!-- Было --&gt;</span>
</span><span class='line'>  <span class="nt">&lt;section&gt;</span>
</span><span class='line'>    <span class="nt">&lt;h1&gt;</span>Comments<span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;disqus_thread&quot;</span> <span class="na">aria-live=</span><span class="s">&quot;polite&quot;</span><span class="nt">&gt;</span><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/section&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c">&lt;!-- Стало --&gt;</span>
</span><span class='line'>  <span class="nt">&lt;section&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;hypercomments_widget&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/section&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Затем редактируем файл <code>_includes/after_footer.html</code>
<img class="center" src="http://Anshik.github.com/../blog_img/hypercomments_after_footer.png" title="Вот как должен выглядеть файл after_footer.html" ></p>

<h3>Всё! Should work&#8230; :)</h3>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fabric для python, первые шаги]]></title>
    <link href="http://Anshik.github.com/blog/2012/06/06/fabric-dlia-python/"/>
    <updated>2012-06-06T16:54:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/06/06/fabric-dlia-python</id>
    <content type="html"><![CDATA[<h3>Что такое Fabric?</h3>

<p>Вольный перевод <a href="http://docs.fabfile.org/en/1.4.2/index.html">документации</a><br/>
Fabric &mdash; это библиотечка для python версии >= 2.5 и консольная утилитка для облегчения использования SSH при деплое проекта, или выполнения админских задач.</p>

<p>Она предоставляет простой набор операций для выполнения локальных или удалённых команд, загрузки, скачивания файлов и др.</p>

<!-- more -->


<h3>Установка</h3>

<p>Я устанавливаю в свой питоний инстанс, созданный как написано <a href="http://Anshik.github.com/blog/2012/06/05/ispolzovaniie-virtualenv-python">тут</a><br/>
<code>$ ./bin/easy_install fabric</code></p>

<p>Он подтягивает ещё <code>ssh 1.7.14</code> и <code>pycrypto 2.6</code>.</p>

<h3>Простейшее использование</h3>

<p>Обычно создают модуль на Python, содержащий одну или более функций, затем исполняют его при помощи <strong>fab</strong>. Рассмотрим простейший пример. Для запуска выполняем из папки с этим скриптом <code>fab hello</code>.</p>

<figure class='code'><figcaption><span>fabric.py</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#!./bin/python</span>
</span><span class='line'><span class="c"># -*- coding: utf-8 -*-</span>
</span><span class='line'>
</span><span class='line'><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">run</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
</span><span class='line'>    <span class="k">print</span> <span class="s">&quot;It&#39;s says: hello&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>При его запуске мне выдаёт предупреждение</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>/usr/local/lib/python2.6/dist-packages/pycrypto-2.6-py2.6-linux-x86_64.egg/Crypto/Util/number.py:57: PowmInsecureWarning: Not using mpz_powm_sec.  You should rebuild using libgmp &gt;<span class="o">=</span> 5 to avoid timing attack vulnerability.
</span><span class='line'>  _warn<span class="o">(</span><span class="s2">&quot;Not using mpz_powm_sec.  You should rebuild using libgmp &gt;= 5 to avoid timing attack vulnerability.&quot;</span>, PowmInsecureWarning<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span>И затем непосредственно вывод fabric</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>It<span class="err">&#39;</span>s says: hello
</span><span class='line'>
</span><span class='line'>Done.
</span></code></pre></td></tr></table></div></figure>


<p>Предупреждание выдает даже не Фабрик, а pycrypto, ну и ладно, не буду ничего обновлять</p>

<h3>Передача аргументов</h3>

<p>Передача аргументов происходит следующим образом:<br/>
<code>&lt;task name&gt;:&lt;arg&gt;,&lt;kwarg&gt;=&lt;value&gt;,....</code></p>

<figure class='code'><figcaption><span>Передача аргументов</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">run</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">name_in</span><span class="o">=</span><span class="s">&#39;name&#39;</span><span class="p">):</span>
</span><span class='line'>    <span class="k">print</span> <span class="s">&quot;It&#39;s says: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">name_in</span>
</span></code></pre></td></tr></table></div></figure>


<p>Вызов с аргументами можно производить двумя способами:
<code>fab hello:name_in=Anshik</code><br/>
<code>fab hello:Anshik</code><br/>
Первый вариант словарем, второй &mdash; аргументами.</p>

<h3>Продолжение мысли cuisine</h3>

<p>cuisine &mdash; переводится как кухня<br/>
Оно добавляет ещё уровень абстракции для упрощения</p>

<p><a href="https://github.com/sebastien/cuisine">cuisine</a></p>

<p><a href="http://Anshik.github.com/blog/2012/06/07/module-cuisine">более подробно в блоге</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Использование virtualenv python]]></title>
    <link href="http://Anshik.github.com/blog/2012/06/05/ispolzovaniie-virtualenv-python/"/>
    <updated>2012-06-05T14:05:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/06/05/ispolzovaniie-virtualenv-python</id>
    <content type="html"><![CDATA[<h3>Введение</h3>

<p>Давно хотел разобраться, как настраивать и использовать <a href="http://pypi.python.org/pypi/virtualenv">virtualenv</a>.
Virtualenv это средство для создания изолированного окружения Python.</p>

<h4>Зачем оно нужно?</h4>

<p>По умолчанию easy_install ставит питоновские пакеты примерно в <code>/usr/local/lib/python2.6/dist-packages</code>
И там получается помойка из пакетов, в некоторых случаях мы работаем со старыми версиями пакетов.</p>

<!-- more -->


<blockquote><p>К примеру был написан сайт на Django, года два назад, и нужно использовать старую джангу, чтобы всё не переписывать. Тут два варианта :)<br/>
* Для слабаков:<br/>
Просто скопировать старую джангу в проект и не париться, и скопировать туда же в проект старые модули, и всё будет работать :)</p>

<ul>
<li>Для не_слабаков:<br/>
Настроить virtualenv под проект.</li>
</ul>


<p><strong>Virtualenv</strong> &mdash; позволяет для каждого проекта создать <strong>своё окружение</strong> <em>питонячьих</em> пакетов.</p></blockquote>

<h3>Установка</h3>

<p>sudo easy_install virtualenv</p>

<figure class='code'><figcaption><span>Как-то так оно установливается</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>sudo easy_install virtualenv
</span><span class='line'>install_dir /usr/local/lib/python2.6/dist-packages/
</span><span class='line'>Searching <span class="k">for </span>virtualenv
</span><span class='line'>Reading http://pypi.python.org/simple/virtualenv/
</span><span class='line'>Reading http://www.virtualenv.org
</span><span class='line'>Reading http://virtualenv.openplans.org
</span><span class='line'>Best match: virtualenv 1.7.1.2
</span><span class='line'>Downloading http://pypi.python.org/packages/source/v/virtualenv/virtualenv-1.7.1.2.tar.gz#md5<span class="o">=</span>3be8a014c27340f48b56465f9109d9fa
</span><span class='line'>Processing virtualenv-1.7.1.2.tar.gz
</span><span class='line'>Running virtualenv-1.7.1.2/setup.py -q bdist_egg --dist-dir /tmp/easy_install-yLN55d/virtualenv-1.7.1.2/egg-dist-tmp-a8EZxb
</span><span class='line'>warning: no previously-included files matching <span class="s1">&#39;*.*&#39;</span> found under directory <span class="s1">&#39;docs/_templates&#39;</span>
</span><span class='line'>Adding virtualenv 1.7.1.2 to easy-install.pth file
</span><span class='line'>Installing virtualenv script to /usr/local/bin
</span><span class='line'>
</span><span class='line'>Installed /usr/local/lib/python2.6/dist-packages/virtualenv-1.7.1.2-py2.6.egg
</span><span class='line'>Processing dependencies <span class="k">for </span>virtualenv
</span><span class='line'>Finished processing dependencies <span class="k">for </span>virtualenv
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Проверяем </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>whereis virtualenv
</span><span class='line'>virtualenv: /usr/local/bin/virtualenv
</span></code></pre></td></tr></table></div></figure>


<h3>Создание окружения</h3>

<figure class='code'><figcaption><span>Создание окружения</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>home:~/temp<span class="nv">$ </span>virtualenv  -p /usr/bin/python2.6 --no-site-packages custom_python
</span><span class='line'>Running virtualenv with interpreter /usr/bin/python2.6
</span><span class='line'>The --no-site-packages flag is deprecated; it is now the default behavior.
</span><span class='line'>New python executable in custom_python/bin/python2.6
</span><span class='line'>Also creating executable in custom_python/bin/python
</span><span class='line'>Installing setuptools............done.
</span><span class='line'>Installing pip...............done.
</span><span class='line'>home:~/temp<span class="nv">$ </span>
</span></code></pre></td></tr></table></div></figure>


<p>Мы сказали, что хотим чтобы в папке <strong>custom_python</strong> использовался python интерпретатор, лежащий в <code>/usr/bin/python2.6</code>, и сказали, что не нужно использовать системных <strong>site-packages</strong>. А нам подсказали, что теперь писать &#8211;no-site-packages не нужно.</p>

<figure class='code'><figcaption><span>Смотрим, что получилось в папке custom_python.</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>home:~/temp/custom_python<span class="nv">$ </span>ls
</span><span class='line'>bin  include  lib
</span><span class='line'>home:~/temp/custom_python<span class="nv">$ </span>
</span></code></pre></td></tr></table></div></figure>


<p>Для запуска приложения в нашей среде нужно сказать <code>./bin/python</code></p>

<h3>Пример установки Django</h3>

<p>Мне как раз захотелось запустить Django1.4, потом django-cms и т.д.<br/>
<code>home:~/temp/custom_python$ ./bin/easy_install django</code></p>

<p>Django скачивается, устанавливается и теперь лежит в:<br/>
<code>home:~/temp/custom_python/lib/python2.6/site-packages/Django-1.4-py2.6.egg</code></p>

<figure class='code'><figcaption><span>Создание и запуск проекта Django</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>home:~/temp/custom_python<span class="nv">$ </span>./bin/django-admin.py startproject custom_django
</span><span class='line'>home:~/temp/custom_python<span class="nv">$ </span><span class="nb">cd </span>custom_django/
</span><span class='line'>home:~/temp/custom_python/custom_django<span class="nv">$ </span>ls
</span><span class='line'>custom_django  manage.py
</span><span class='line'>home:~/temp/custom_python/custom_django<span class="nv">$ </span>../bin/python manage.py runserver
</span><span class='line'>Validating models...
</span><span class='line'>
</span><span class='line'>0 errors found
</span><span class='line'>Django version 1.4, using settings <span class="s1">&#39;custom_django.settings&#39;</span>
</span><span class='line'>Development server is running at http://127.0.0.1:8000/
</span><span class='line'>Quit the server with CONTROL-C.
</span></code></pre></td></tr></table></div></figure>


<p>В общем-то, можно сказать всё. И не так страшно, как казалось.</p>

<h4>Запуск скрипта</h4>

<p>Создаём файл, обратите внимание на строчку <code>#!./bin/python</code> вначале файла, говорим, что будем при запуске использовать наш интерпретатор.</p>

<figure class='code'><figcaption><span>К примеру такой tst.py</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#!./bin/python</span>
</span><span class='line'><span class="c"># -*- coding: utf-8 -*-</span>
</span><span class='line'>
</span><span class='line'><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">struct</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'>
</span><span class='line'><span class="n">RAND_NUMS</span> <span class="o">=</span> <span class="mi">10</span>
</span><span class='line'><span class="n">rand_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span class='line'>
</span><span class='line'><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">RAND_NUMS</span><span class="p">):</span>
</span><span class='line'>    <span class="n">a</span> <span class="o">=</span> <span class="n">random</span><span class="p">()</span>
</span><span class='line'>    <span class="n">rand_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">((</span><span class="n">a</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="mi">255</span><span class="p">)))</span>
</span><span class='line'>
</span><span class='line'><span class="k">print</span> <span class="n">rand_list</span>
</span><span class='line'><span class="k">print</span> <span class="n">sys</span><span class="o">.</span><span class="n">executable</span>
</span></code></pre></td></tr></table></div></figure>


<p>Говорим <code>chmod +x tst.py</code>, запускаем <code>./tst.py</code></p>

<figure class='code'><figcaption><span>Результат</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>home:~/temp/custom_python<span class="nv">$ </span>./tst.py
</span><span class='line'><span class="o">[</span><span class="s1">&#39;W&#39;</span>, <span class="s1">&#39;\x1f&#39;</span>, <span class="s1">&#39;\x06&#39;</span>, <span class="s1">&#39;\x0f&#39;</span>, <span class="s1">&#39;\x03&#39;</span>, <span class="s1">&#39;b&#39;</span>, <span class="s1">&#39;T&#39;</span>, <span class="s1">&#39;G&#39;</span>, <span class="s1">&#39;\x17&#39;</span>, <span class="s1">&#39;\x04&#39;</span><span class="o">]</span>
</span><span class='line'>/home/apalkov/temp/custom_python/bin/python
</span><span class='line'>
</span><span class='line'>home:~/temp/custom_python<span class="nv">$ </span>
</span></code></pre></td></tr></table></div></figure>


<p>В общем-то всё.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Добавление кастомных страниц]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/dobavlieniie-kastomnykh-stranits/"/>
    <updated>2012-05-29T17:04:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/dobavlieniie-kastomnykh-stranits</id>
    <content type="html"><![CDATA[<p>Блог, архив блога - это хорошо. Но давно интересовал вопрос:</p>

<blockquote><p>Как добавить свою страницу в меню навигации.</p></blockquote>

<p>Нашёл ответ, всё оказалось как всегда просто.</p>

<!-- more -->


<h3>Создаём новую страницу &#8220;О себе&#8221;</h3>

<p><code>rake new_page["about"]</code></p>

<h3>Добавляем её в меню навигации</h3>

<p>Редактируем файл <code>source/custom/navigation.html</code></p>

<figure class='code'><figcaption><span>добавляем урл своей страницы 4 строка</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;main-navigation&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>Blog<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/blog/archives&quot;</span><span class="nt">&gt;</span>Archives<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/about&quot;</span><span class="nt">&gt;</span>Обо мне<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Редактируем содержимое страницы &#8220;О себе&#8221;</h3>

<p><code>vim source/about/index.markdown</code></p>

<p>Всё!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Отладка почтовых сообщений в django]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/otladka-pochtovykh-soobshchienii-v-django/"/>
    <updated>2012-05-29T15:42:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/otladka-pochtovykh-soobshchienii-v-django</id>
    <content type="html"><![CDATA[<p>python -m smtpd -n -c DebuggingServer localhost:25
Эта одностроковая команда запускает сервер SMTP на порту 1025. Здесь используется стандартная библиотека smtpd для языка Python (задается при помощи -m smtpd) и передаются три аргумента: -n, -c DebuggingServer и localhost:1025.</p>

<!-- more -->


<p>Аргумент -n указывает Python-у не устанавливать для setuid (позволяет изменять пользователя) значение &#8220;nobody&#8221; — код будет работать под вашим пользователем.
Аргумент -c DebuggingServer указывает Python-у использовать класс DebuggingServer в качестве реализации SMTP, которая печатает каждое получаемое сообщение в выходной поток stdout.
Аргумент localhost:1025 указывает Python-у запускать SMTP сервер как locahost на порту1025.
 Однако, если вы захотите запустить сервер на стандартном порту 25, вам нужно будет использовать команду sudo, поскольку только пользователь с правами root может запускать сервисы на портах 1 — 1024. Они также известны как привилегированные порты.</p>

<p>Есть ещё какие-то приложения, которые запускаешь, шлёшь туда отладочную почту.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Нарезка mp3 файлов Linux Ubuntu]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/nariezka-mp3-failov-linux-ubuntu/"/>
    <updated>2012-05-29T15:26:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/nariezka-mp3-failov-linux-ubuntu</id>
    <content type="html"><![CDATA[<p>У меня есть плеер <a href="http://www.cowonrussia.ru/?action=products&amp;mode=search&amp;category_id=6&amp;product_id=27">Cowon E2</a>, флеша в нём 2 Гига.<br/>
<strong>Плюсы:</strong></p>

<ul>
<li>удобный</li>
<li>не прихотливый</li>
<li>заряжается от usb</li>
<li>переходник usb втыкается в аудио jack</li>
<li>навигация по папкам</li>
</ul>


<!-- more -->


<p><strong>Минусы</strong>:</p>

<ul>
<li>кнопка включения можеть быть нажата случайно</li>
<li>он симметричен, на ощупь не определишь где power, где переключение режимов</li>
</ul>


<p>Иногда нажатие не на ту кнопку может привести к переключению на следующий трек, а если ты слушаешь книгу или подкаст длинной в 2 часа, то перемотка не вариант, поэтому я использую нарезку фалов mp3.</p>

<p>Я пользовался в Windows <strong>mp3cut</strong>, а перейдя на Ubuntu пришлось искать альтернативу.</p>

<p>При использовании mp3cut написал для себя скриптик, который открывает файл, и нарезает его.</p>

<p>В ubuntu всё проще <strong>mp3splt</strong></p>

<p><code>mp3splt -t 5.0 -o @n_@f -d ump_270 ump_podcast270.mp3</code></p>

<p><strong>Комментарий:</strong><br/>
 <code>-t</code> продолжительность кусочка<br/>
 <code>-o</code> название выходного файла, в данном случае @счётчик_@название файла<br/>
 <code>-d</code> название выходной директории</p>

<p>и файл входной.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Как правильно делать треды в PyQT4]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/threads-in-pyqt4/"/>
    <updated>2012-05-29T15:24:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/threads-in-pyqt4</id>
    <content type="html"><![CDATA[<p><a href="http://www.linux.org.ru/forum/development/1529306">Тут</a> нашёл решение</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#!/usr/bin/env python</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Вот примерно так оно делается.</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="kn">import</span> <span class="n">QEvent</span><span class="p">,</span> <span class="n">QThread</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">PyQt4.QtGui</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QTextEdit</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">MyEvent</span><span class="p">(</span><span class="n">QEvent</span><span class="p">):</span>
</span><span class='line'><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
</span><span class='line'><span class="n">QEvent</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">User</span><span class="p">)</span>
</span><span class='line'><span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Timer</span><span class="p">(</span><span class="n">QThread</span><span class="p">):</span>
</span><span class='line'><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_receiver</span><span class="p">):</span>
</span><span class='line'><span class="n">QThread</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span class='line'><span class="bp">self</span><span class="o">.</span><span class="n">event_receiver</span> <span class="o">=</span> <span class="n">event_receiver</span>
</span><span class='line'><span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
</span><span class='line'><span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'><span class="n">QApplication</span><span class="o">.</span><span class="n">postEvent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event_receiver</span><span class="p">,</span> <span class="n">MyEvent</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">))</span>
</span><span class='line'><span class="bp">self</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Display</span><span class="p">(</span><span class="n">QTextEdit</span><span class="p">):</span>
</span><span class='line'><span class="k">def</span> <span class="nf">customEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span class='line'><span class="k">if</span> <span class="nb">isinstance</span> <span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">MyEvent</span><span class="p">):</span>
</span><span class='line'><span class="bp">self</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;time = </span><span class="si">%i</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</span><span class='line'><span class="n">display</span> <span class="o">=</span> <span class="n">Display</span><span class="p">()</span>
</span><span class='line'><span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="n">timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">(</span><span class="n">display</span><span class="p">)</span>
</span><span class='line'><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ipython for python3.2 WindowsXP]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/ipython-for-python3-dot-2-windowsxp/"/>
    <updated>2012-05-29T15:19:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/ipython-for-python3-dot-2-windowsxp</id>
    <content type="html"><![CDATA[<p>Вот, задался целью всё-таки забороть ipython для Python 3.2, и получилось :)</p>

<h3>Делал примерно так:</h3>

<p>1.1. Поставил Python3.2: python-3.2.1.msi<br/>
1.2. Пропишите пути к новому питону</p>

<ol>
<li>distribute_setup.py : http://python-distribute.org/distribute_setup.py<br/>
это для того чтобы заработал easy_install</li>
</ol>


<!-- more -->


<ol>
<li><p>Дальше<br/>
<code>easy_install http://archive.ipython.org/release/0.11/py3/ipython-0.11-py3.2.egg</code><br/>
ставится ipython к папке <code>c:/python32/Scripts</code> тоже хорошо бы переменную <strong>path</strong> виндовса поправить</p></li>
<li><p>Запускаем <code>ipython3.exe</code> в папке Scripts и ловим эксепшн, у меня во всяком случае было так:</p></li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'> c:<span class="se">\P</span>ython32<span class="se">\S</span>cripts&gt;ipython3.exe
</span><span class='line'> Error in sys.excepthook:
</span><span class='line'> TypeError: _isdir<span class="o">()</span> takes exactly 1 argument <span class="o">(</span>0 given<span class="o">)</span>
</span><span class='line'>
</span><span class='line'> Original exception was:
</span><span class='line'> Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
</span><span class='line'> File <span class="s2">&quot;c:\Python32\Scripts\ipython3-script.py&quot;</span>, line 9, in
</span><span class='line'> load_entry_point<span class="o">(</span><span class="s1">&#39;ipython==0.11&#39;</span>, <span class="s1">&#39;console_scripts&#39;</span>, <span class="s1">&#39;ipython3&#39;</span><span class="o">)()</span>
</span><span class='line'> File <span class="s2">&quot;c:\Python32\lib\site-packages\ipython-0.11-py3.2.egg\IPython\frontend\te</span>
</span><span class='line'><span class="s2">rminal\ipapp.py&quot;</span>, line 369, in launch_new_instance
</span><span class='line'> app.initialize<span class="o">()</span>
</span><span class='line'> File <span class="s2">&quot;c:\Python32\lib\site-packages\ipython-0.11-py3.2.egg\IPython\frontend\te</span>
</span><span class='line'><span class="s2">rminal\ipapp.py&quot;</span>, line 283, in initialize
</span><span class='line'> self.init_shell<span class="o">()</span>
</span><span class='line'> File <span class="s2">&quot;c:\Python32\lib\site-packages\ipython-0.11-py3.2.egg\IPython\frontend\te</span>
</span><span class='line'><span class="s2">rminal\ipapp.py&quot;</span>, line 303, in init_shell
</span><span class='line'> <span class="nv">ipython_dir</span><span class="o">=</span>self.ipython_dir<span class="o">)</span>
</span><span class='line'> File <span class="s2">&quot;c:\Python32\lib\site-packages\ipython-0.11-py3.2.egg\IPython\config\conf</span>
</span><span class='line'><span class="s2">igurable.py&quot;</span>, line 295, in instance
</span><span class='line'> <span class="nv">inst</span> <span class="o">=</span> cls<span class="o">(</span>*args, **kwargs<span class="o">)</span>
</span><span class='line'> File <span class="s2">&quot;c:\Python32\lib\site-packages\ipython-0.11-py3.2.egg\IPython\frontend\te</span>
</span><span class='line'><span class="s2">rminal\interactiveshell.py&quot;</span>, line 112, in __init__
</span><span class='line'> <span class="nv">user_global_ns</span><span class="o">=</span>user_global_ns, <span class="nv">custom_exceptions</span><span class="o">=</span>custom_exceptions
</span><span class='line'> File <span class="s2">&quot;c:\Python32\lib\site-packages\ipython-0.11-py3.2.egg\IPython\core\intera</span>
</span><span class='line'><span class="s2">ctiveshell.py&quot;</span>, line 384, in __init__
</span><span class='line'> self.db <span class="o">=</span> PickleShareDB<span class="o">(</span>os.path.join<span class="o">(</span>self.profile_dir.location, <span class="s1">&#39;db&#39;</span><span class="o">))</span>
</span><span class='line'> File <span class="s2">&quot;c:\Python32\lib\site-packages\ipython-0.11-py3.2.egg\IPython\utils\pickl</span>
</span><span class='line'><span class="s2">eshare.py&quot;</span>, line 52, in __init__
</span><span class='line'> <span class="k">if </span>not self.root.isdir<span class="o">()</span>:
</span><span class='line'>TypeError: _isdir<span class="o">()</span> takes exactly 1 argument <span class="o">(</span>0 given<span class="o">)</span>
</span><span class='line'>
</span><span class='line'>c:<span class="se">\P</span>ython32<span class="se">\S</span>cripts&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Решил я это так
В файле <code>"c:\Python32\lib\site-packages\ipython-0.11-py3.2.egg\IPython\utils\pickleshare.py"</code><br/>
В 52 строке закомментировал<br/>
<code>#if not self.root.isdir():</code><br/>
И 53-ей строкой написал следующее<br/>
<code>if not os.path.isdir(self.root):</code></p>

<p>Заработало, что не может не радовать.
Единственное pyreadline ещё похоже нужно замучить</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Интерпретатор для Питонофилов]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/intierprietator-dlia-pitonofilov/"/>
    <updated>2012-05-29T15:15:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/intierprietator-dlia-pitonofilov</id>
    <content type="html"><![CDATA[<p>Раньше я использовал <strong>iPython</strong>, но хозяйки посоветовали мне <strong>DreamPie</strong>
Установил под WindowsXP, при первом запуске пришлось фиксить выдало, что не может:</p>

<!-- more -->


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>File <span class="s2">&quot;C:\Program Files\DreamPie\share\dreampie\subp_main.py&quot;</span>, line 30, in &lt;module&gt;
</span><span class='line'> sys.setdefaultencoding<span class="o">(</span><span class="s1">&#39;utf-8&#39;</span><span class="o">)</span>
</span><span class='line'>AttributeError: <span class="s1">&#39;module&#39;</span> object has no attribute <span class="s1">&#39;setdefaultencoding&#39;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Фиксим в файле &#8220;c:\Program Files\DreamPie\share\dreampie\subp_main.py&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'> <span class="kn">import</span> <span class="nn">platform</span>
</span><span class='line'> <span class="k">if</span> <span class="ow">not</span> <span class="s">&quot;3.2&quot;</span> <span class="ow">in</span> <span class="n">platform</span><span class="o">.</span><span class="n">python_version</span><span class="p">():</span>
</span><span class='line'>    <span class="n">sys</span><span class="o">.</span><span class="n">setdefaultencoding</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Альтернативные решения <a href="https://bugs.launchpad.net/dreampie/+bug/716377">данной</a> баги</p>

<blockquote><p><strong>PS:</strong> признаться продолжаю пользоваться Ipython, привык, ничего не могу с собой поделать. Может нужно ещё раз посмотреть по-внимательнее</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Меняем время на убунте на правилное]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/mieniaiem-vriemia-na-ubuntie-na-pravilnoie/"/>
    <updated>2012-05-29T15:12:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/mieniaiem-vriemia-na-ubuntie-na-pravilnoie</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span>Вот как исправить переход с летнего на зимнее время в Ubuntu 10.10</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/sh </span>
</span><span class='line'>
</span><span class='line'><span class="c"># Disallow winter time for Moscow </span>
</span><span class='line'>
</span><span class='line'><span class="nb">echo</span> <span class="s2">&quot;Disable winter time for MoscoW&quot;</span>
</span><span class='line'>
</span><span class='line'>sleep 3
</span><span class='line'>
</span><span class='line'>mkdir ./temp1
</span><span class='line'>
</span><span class='line'><span class="nb">cd</span> ./temp1
</span><span class='line'>
</span><span class='line'><span class="c">#wget ftp://elsie.nci.nih.gov/pub/tzdata2011k.tar.gz  уже не работает</span>
</span><span class='line'> wget http://people.freebsd.org/~edwin/tzdata2011k.tar.gz
</span><span class='line'>
</span><span class='line'>tar xzf tzdata2011k.tar.gz
</span><span class='line'>
</span><span class='line'>cp /etc/localtime /tmp/localtime.old
</span><span class='line'>
</span><span class='line'>zic europe
</span><span class='line'>
</span><span class='line'>ln -sf /usr/share/zoneinfo/Europe/Moscow /etc/localtime
</span><span class='line'>
</span><span class='line'><span class="nb">cd</span> ..
</span><span class='line'>rm -rf ./temp1
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[django-cms filer plugin]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/django-cms-filer-plugin/"/>
    <updated>2012-05-29T15:09:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/django-cms-filer-plugin</id>
    <content type="html"><![CDATA[<p>Если вы решили использовать это django-cms filer plugin, то не забудьте сначала поставить filer, потом easy_thumbnails</p>

<p>А если вы используете yandex maps plugin, то почему-то пришлось делать правильный шаблон, и в контекст передавать нормально свой ключ, а то не работает. Потом нужно подробно, это просто чтобы не забыть.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Добавление robots.txt и favicon.ico в Django 1.3]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/dobavlieniie-robots-dot-txt-i-favicon-dot-ico-v-django-1-dot-3/"/>
    <updated>2012-05-29T14:59:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/dobavlieniie-robots-dot-txt-i-favicon-dot-ico-v-django-1-dot-3</id>
    <content type="html"><![CDATA[<p>Добавляем следующее в urls.py и радуемся.
Файл robots.txt кладём в папку с шаблонами страниц, примерное содержание robots.txt</p>

<!-- more -->


<figure class='code'><figcaption><span>примерное содержание robots.txt</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#</span>
</span><span class='line'><span class="c"># robots.txt http://www.???.ru/</span>
</span><span class='line'><span class="c"># </span>
</span><span class='line'>
</span><span class='line'>User-agent: *
</span><span class='line'>Disallow: /admin
</span><span class='line'>
</span><span class='line'>User-agent: Yandex
</span><span class='line'>Disallow: /admin
</span><span class='line'>Host: www.???.ru
</span><span class='line'>Crawl-delay: 10
</span><span class='line'>
</span><span class='line'>Sitemap: http://www.???.ru/sitemap.xml
</span></code></pre></td></tr></table></div></figure>


<p>Иконку <strong>favicon.ico</strong> кладём в папку со статическими файлами сайта.</p>

<figure class='code'><figcaption><span>Добавляем следующее в urls.py</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'> <span class="kn">from</span> <span class="nn">django.conf.urls.defaults</span> <span class="kn">import</span> <span class="n">patterns</span><span class="p">,</span> <span class="n">include</span><span class="p">,</span> <span class="n">url</span>
</span><span class='line'> <span class="kn">from</span> <span class="nn">django.views.generic.base</span> <span class="kn">import</span> <span class="n">TemplateView</span><span class="p">,</span> <span class="n">RedirectView</span>
</span><span class='line'>
</span><span class='line'> <span class="k">class</span> <span class="nc">TextPlainView</span><span class="p">(</span><span class="n">TemplateView</span><span class="p">):</span>
</span><span class='line'> <span class="k">def</span> <span class="nf">render_to_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span class='line'> <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">TextPlainView</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">render_to_response</span><span class="p">(</span>
</span><span class='line'> <span class="n">context</span><span class="p">,</span> <span class="n">content_type</span><span class="o">=</span><span class="s">&#39;text/plain&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'> <span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'> <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^robots\.txt$&#39;</span><span class="p">,</span> <span class="n">TextPlainView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s">&#39;robots.txt&#39;</span><span class="p">)),</span>
</span><span class='line'> <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^favicon\.ico$&#39;</span><span class="p">,</span> <span class="n">RedirectView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">&#39;/media/img/favicon.ico&#39;</span><span class="p">)),</span>
</span><span class='line'> <span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Зачем нужен robots.txt?</h3>

<p>Для того чтобы поисковому боту сказать, куда заглядывать не нужно, наверняка ещё для чего-то, гуглить лень, можете добавить комменты зачем, перенесу в пост.</p>

<h3>Зачем нужен favicon.ico, он же favicon.png?</h3>

<p>Это иконка которая будет показываться в левом углу вкладки в браузере, и будет отображаться при добавлении в избранное, она в общем так и расшифровывается favicon (favorite  icon), типа любимая иконка. Нарисовать эту иконку можно в любом графическом редакторе например <a href="http://gimp.org">Gimp</a>. Картинка должна быть размером 16x16 пикселей.</p>

<blockquote><p><strong>PS:</strong> Не забываем, что это не полный urls.py, а только те строчки, которые добавляют robots.txt и favicon.ico.</p></blockquote>

<p> Я в первый раз попробовал это на сайте <a href="dok4you.ru">Женской консультации 2х2</a>  про акушерство, гинекологию и др.</p>

<blockquote><p><strong>PPS:</strong> Возможно нужно ещё сказать джанге на хостинге
 <code>python manage.py collectstatic</code>, как-то так, может с ошибкой</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WYMeditor Django-cms попробуй забори]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/wymeditor-django-cms-poprobui-zabori/"/>
    <updated>2012-05-29T14:48:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/wymeditor-django-cms-poprobui-zabori</id>
    <content type="html"><![CDATA[<h3>В общем сабж</h3>

<p>В интернете нашёл только краткий пост <a href="http://markeev.labwr.ru/2010/02/django-cms-wymeditor.html">Ивана Маркеева</a></p>

<p>Я не прочитал внимательно строчку:<br/>
Приведенные <strong>WYM_STYLES</strong> определяют то, как контент будет выглядеть в редакторе.
То есть просто как он будет выглядеть <strong>в редакторе</strong> :) В окошке редактирования</p>

<!-- more -->


<ol>
<li>Для кастомизации <strong>WYMeditora</strong> в рамках <strong>Django-cms</strong> следует изменить свой файл настроек django проекта <strong>settings.py</strong>
дописав в него примерно следующее:</li>
</ol>


<figure class='code'><figcaption><span>Это нужно добавить в settings.py</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#WYMEditor</span>
</span><span class='line'><span class="n">WYM_TOOLS</span> <span class="o">=</span> <span class="s">&quot;,</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Bold&#39;, &#39;title&#39;: &#39;Strong&#39;, &#39;css&#39;: &#39;wym_tools_strong&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Italic&#39;, &#39;title&#39;: &#39;Emphasis&#39;, &#39;css&#39;: &#39;wym_tools_emphasis&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Superscript&#39;, &#39;title&#39;: &#39;Superscript&#39;, &#39;css&#39;: &#39;wym_tools_superscript&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Subscript&#39;, &#39;title&#39;: &#39;Subscript&#39;, &#39;css&#39;: &#39;wym_tools_subscript&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;InsertOrderedList&#39;, &#39;title&#39;: &#39;Ordered_List&#39;, &#39;css&#39;: &#39;wym_tools_ordered_list&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;InsertUnorderedList&#39;, &#39;title&#39;: &#39;Unordered_List&#39;, &#39;css&#39;: &#39;wym_tools_unordered_list&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Indent&#39;, &#39;title&#39;: &#39;Indent&#39;, &#39;css&#39;: &#39;wym_tools_indent&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Outdent&#39;, &#39;title&#39;: &#39;Outdent&#39;, &#39;css&#39;: &#39;wym_tools_outdent&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Undo&#39;, &#39;title&#39;: &#39;Undo&#39;, &#39;css&#39;: &#39;wym_tools_undo&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Redo&#39;, &#39;title&#39;: &#39;Redo&#39;, &#39;css&#39;: &#39;wym_tools_redo&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;Paste&#39;, &#39;title&#39;: &#39;Paste_From_Word&#39;, &#39;css&#39;: &#39;wym_tools_paste&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;ToggleHtml&#39;, &#39;title&#39;: &#39;HTML&#39;, &#39;css&#39;: &#39;wym_tools_html&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="c">#&quot;{&#39;name&#39;: &#39;CreateLink&#39;, &#39;title&#39;: &#39;Link&#39;, &#39;css&#39;: &#39;wym_tools_link&#39;}&quot;,</span>
</span><span class='line'> <span class="c">#&quot;{&#39;name&#39;: &#39;Unlink&#39;, &#39;title&#39;: &#39;Unlink&#39;, &#39;css&#39;: &#39;wym_tools_unlink&#39;}&quot;,</span>
</span><span class='line'> <span class="c">#&quot;{&#39;name&#39;: &#39;InsertImage&#39;, &#39;title&#39;: &#39;Image&#39;, &#39;css&#39;: &#39;wym_tools_image&#39;}&quot;,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;InsertTable&#39;, &#39;title&#39;: &#39;Table&#39;, &#39;css&#39;: &#39;wym_tools_table&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="c">#&quot;{&#39;name&#39;: &#39;Preview&#39;, &#39;title&#39;: &#39;Preview&#39;, &#39;css&#39;: &#39;wym_tools_preview&#39;}&quot;,</span>
</span><span class='line'><span class="p">])</span>
</span><span class='line'>
</span><span class='line'><span class="n">WYM_CONTAINERS</span> <span class="o">=</span> <span class="s">&quot;,</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;P&#39;, &#39;title&#39;: &#39;Paragraph&#39;, &#39;css&#39;: &#39;wym_containers_p&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;H1&#39;, &#39;title&#39;: &#39;Heading_1&#39;, &#39;css&#39;: &#39;wym_containers_h1&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;H2&#39;, &#39;title&#39;: &#39;Heading_2&#39;, &#39;css&#39;: &#39;wym_containers_h2&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;H3&#39;, &#39;title&#39;: &#39;Heading_3&#39;, &#39;css&#39;: &#39;wym_containers_h3&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;H4&#39;, &#39;title&#39;: &#39;Heading_4&#39;, &#39;css&#39;: &#39;wym_containers_h4&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;H5&#39;, &#39;title&#39;: &#39;Heading_5&#39;, &#39;css&#39;: &#39;wym_containers_h5&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;H6&#39;, &#39;title&#39;: &#39;Heading_6&#39;, &#39;css&#39;: &#39;wym_containers_h6&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;PRE&#39;, &#39;title&#39;: &#39;Preformatted&#39;, &#39;css&#39;: &#39;wym_containers_pre&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;BLOCKQUOTE&#39;, &#39;title&#39;: &#39;Blockquote&#39;, &#39;css&#39;: &#39;wym_containers_blockquote&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;TH&#39;, &#39;title&#39;: &#39;Table_Header&#39;, &#39;css&#39;: &#39;wym_containers_th&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'><span class="p">])</span>
</span><span class='line'>
</span><span class='line'><span class="n">WYM_CLASSES</span> <span class="o">=</span> <span class="s">&quot;,</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;date&#39;, &#39;title&#39;: &#39;PARA: Date&#39;, &#39;expr&#39;: &#39;p&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;hidden-note&#39;, &#39;title&#39;: &#39;PARA: Hidden note&#39;, &#39;expr&#39;: &#39;p[@class!=</span><span class="se">\&quot;</span><span class="s">important</span><span class="se">\&quot;</span><span class="s">]&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;center&#39;, &#39;title&#39;: &#39;PARA: Center&#39;, &#39;expr&#39;: &#39;p&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;contentheading&#39;, &#39;title&#39;: &#39;PARA: Center&#39;, &#39;expr&#39;: &#39;p, h1&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="p">])</span>
</span><span class='line'>
</span><span class='line'><span class="n">WYM_STYLES</span> <span class="o">=</span> <span class="s">&quot;,</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;.hidden-note&#39;, &#39;css&#39;: &#39;color: #999; border: 2px solid #ccc;&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;.date&#39;, &#39;css&#39;: &#39;background-color: #ff9; border: 2px solid #ee9;&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;.center&#39;, &#39;css&#39;: &#39;border: 20px solid #9acd32; text-align:center;&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&quot;{&#39;name&#39;: &#39;.contentheading&#39;, &#39;css&#39;: &#39;border: 5px solid #9acd32;&#39;}&quot;</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="p">])</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Многие спросят чего так много?!</h3>

<p>Это скопированно из стандартных настроек редактора
<strong>/usr/local/lib/python2.6/dist-packages/django_cms-2.2-py2.6.egg/cms/plugins/text/settings.py</strong>
Там читаем в начале коммент, для тех кто хочет подключить другой редактор, я не стал и дальше из того что скопировал в свой файл настроек django, поудалял строки такого вида:<br/>
<strong>WYM_TOOLS = getattr(settings, &#8220;WYM_TOOLS&#8221;, WYM_TOOLS)</strong><br/>
этой строкой он лезет в наш settings.py проекта и достаёт то что мы кастомизируем. Можно кастомизировать не всё,
а только то, что нужно.</p>

<h3>Теперь по делу</h3>

<ol>
<li><p>WYM_TOOLS - это то что мы хотим видеть из кнопок настройки, или утилит, к примеру я для себя раскоментировал &#8220;{&#8216;name&#8217;: &#8216;InsertTable&#8217;, &#8216;title&#8217;: &#8216;Table&#8217;, &#8216;css&#8217;: &#8216;wym_tools_table&#8217;}&#8221;,
Чтобы появилась возможность добавлять таблицы</p></li>
<li><p>WYM_CONTAINERS это, как следует из названия контейнеры. :)
Как получилось у меня: для того чтобы применить свойство контейнера для этого нужно было изначально заключить кусок текста в контейнер. Не понятно?</p></li>
</ol>


<blockquote><p>При добавлении контента может случиться так, что вы добавите контент без тега, в смысле, что он не будет заключён в тег параграфа. Тогда вы не сможете применить свойство контейнера.
Так что перед добавлением сначала нажмите пару раз Enter для появления в визуальном просмотре пары контейнеров <p></p></blockquote>

<p>2.1 Для того чтобы применить контейнер, к примеру {Heading_1}
Следует текст, который будет выделен этим тегом заключить в отдельный <code>&lt;p&gt;</code>
И тогда уже выделять этот отдельный <code>&lt;p&gt;</code> и выбирать контейнер, они могут переключаться. Т.е, {Heading_1} можно поменять на {Heading_2} не переключаясь сначала в параграф.</p>

<p><strong>Итог:</strong> текст для применения свойства контейнер должен находиться в теге <code>&lt;p&gt;</code></p>

<h3>WYM_CLASSES</h3>

<p>WYM_CLASSES пример:
<code>"{'name': 'contentheading', 'title': 'PARA: Center', 'expr': 'p, h1'}",</code><br/>
Тут мы приступаем к самому вкусному и непонятному.
Данная строчка позволяет добавлять класс (contentheading) из нашей таблицы стилей сайта к заданным тегам:
&#8216;expr&#8217;: &#8216;p, h1&#8217;, и отображаться это будет под названием &#8216;title&#8217;: &#8216;PARA: Center&#8217;. Что такое пара, не интересовался. Center можно заменить на своё. Но вообще и работает просто любой title, например Таблица, такой который будет вам понятен.</p>

<p><strong>Другими словами:</strong> Добавили эту строчку, и к тегам <code>&lt;p&gt;</code>, <code>&lt;h1&gt;</code> можем нажатием на PARA: Center задавать класс contentheading заданному тегу.</p>

<h3>WYM_STYLES</h3>

<p>Вот эта строчка показывает нам что, если у нас в html коде встречается тег с классом .contentheading, то мы его обводим каёмочкой в 5 пикселей, и красим в цвет.
<code>"{'name': '.contentheading', 'css': 'border: 5px solid #9acd32;'}",</code></p>

<p>Вроде всё понятно.</p>

<h3>Особенность</h3>

<p>Заметил такую штуку, что когда мы применили {Classes} к параграфу, а потом решили сделать его всё-таки{Heading_1}, то нужно будет повторно применить класс, иначе он сбросится.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Как упростить себе жизнь в shell/bash]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/simple-shell-bash/"/>
    <updated>2012-05-29T14:37:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/simple-shell-bash</id>
    <content type="html"><![CDATA[<h3>Сочетания клавиш linux bash, shell.</h3>

<p>Удобно пользоваться.</p>

<h4>Быстро перемещаться по строчке</h4>

<p><strong>Ctrl + A</strong> Переход в начало строки<br/>
<strong>Ctrl + E</strong> Переход в конец строки</p>

<p><strong>Alt + F</strong> Прыгать вперёд на слово (ещё может работать Ctrl+ стрелочка вправо)<br/>
<strong>Alt + B</strong> Прыгать назад на слово (ещё может работать Ctrl+ стрелочка влево)</p>

<!-- more -->


<h4>Удобно удалять</h4>

<p><strong>Ctrl + H</strong> как backspace только ближе :)</p>

<p><strong>Ctrl + W</strong> Удалить слово перед курсором<br/>
<strong>Ctrl + K</strong> Удалить до конца строки</p>

<p><strong>Ctrl + L</strong>  очистка экрана, как команда clear<br/>
<strong>Ctrl + U</strong> чистит от курсора до начала строки, если в конце, удалит всё</p>

<h4>Менять местами</h4>

<p><strong>Ctrl + T</strong> поменять 2 буковки местами перед курсором<br/>
<strong>Alt + T</strong> поменять два слова слева от курсора местами</p>

<h4>Работа с процессами</h4>

<p><strong>Ctrl + C</strong> убить что выполнялось<br/>
<strong>Ctrl + D</strong> выйти из текущего shell<br/>
<strong>Ctrl + Z</strong> Засунуть в фон, вернуть fg</p>

<h4>Другая вкусняшка</h4>

<p><strong>Tab</strong> заканчивает названия команд и названия файлов/папок<br/>
<strong>Ctrl + R</strong> поиск по истроии<br/>
<strong>!</strong> вызов уже исполнявшейся команды пишем восклицательный знак и первые символы команды, будьте аккуратны с брутальными командами типа rm -rf :)<br/>
<strong>!xxx:p</strong> где xxx, это тоже самое, что и в !(первые буквы(а)) команды, &#8220;флаг&#8221; <strong>:p</strong> позволяет не выполнять эту команду, а только отобразить, безопасный пример:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rm -rf *
</span><span class='line'>!r:p
</span></code></pre></td></tr></table></div></figure>


<p>Отобразит, но не выполнит</p>

<blockquote><p>rm -rf *</p></blockquote>

<p> Есть ещё много разных, но забивать себе голову ими не хочу. Этого должно хватить</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Использование редактора Sublime Text 2]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/ispolzovaniie-riedaktora-sublime-text-2/"/>
    <updated>2012-05-29T14:24:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/ispolzovaniie-riedaktora-sublime-text-2</id>
    <content type="html"><![CDATA[<h3>Настройка</h3>

<p>В sublime интересная система настроек: не нужно выбирать кучу флажочков и ползать по меню. Для этого есть несколько текстовых файлов с настройками. Опишу некоторые возможности:</p>

<p><strong>Preferences->GlobalSettings-Default</strong> - это, как видно из названия файл настроек по-умолчанию
<strong>Preferences->GlobalSettings-User</strong> - это пользовательский файл настроек. Настройки из пользовательского файла перекрывают файл настроек по-умолчанию.</p>

<!-- more -->


<p>Первый файл под линуксом лежит в папке <strong>~/.config/sublime-text-2/Packages/Default</strong>
А второй в папке <strong>~/.config/sublime-text-2/Packages/User</strong>.</p>

<p>Обзор полезных, на мой взгляд настроек файла Global.sublime-settings, а чего-то не нашёл таковых :).</p>

<p>Есть другой более полезный файл настроек: Preferences->File Settings-Default под названием Base File.sublime-settings-Default в нём можно подсмотреть что можно поменять. А менять мы будем в файле <strong>Preferences->File Settings-User</strong> под названием <strong>Base File.sublime-settings-Default</strong>.</p>

<p>При добавлении настроек в файл пользователя обратите внимание, что строчки добавляются внутрь фигурных скобочек, и последняя строчка внутри скобочек не должна заканчиваться запятой, хотя редактор умный и парсит изменения, которые вносит пользователь, и если нужно ругнётся.</p>

<p>Итак настройки:
Обычно, чтобы включить true, выключить false</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="o">//</span> <span class="n">Set</span> <span class="n">to</span> <span class="n">false</span> <span class="n">to</span> <span class="n">prevent</span> <span class="n">line</span> <span class="n">numbers</span> <span class="n">being</span> <span class="n">drawn</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">gutter</span>
</span><span class='line'><span class="o">//</span> <span class="err">номера</span> <span class="err">строк</span>
</span><span class='line'><span class="s">&quot;line_numbers&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'><span class="o">//</span> <span class="n">Columns</span> <span class="ow">in</span> <span class="n">which</span> <span class="n">to</span> <span class="n">display</span> <span class="n">vertical</span> <span class="n">rulers</span>
</span><span class='line'><span class="o">//</span> <span class="err">добавить</span> <span class="err">линейки</span><span class="p">,</span> <span class="err">кому</span> <span class="err">нужно</span><span class="p">,</span> <span class="err">забавная</span> <span class="err">фича</span><span class="p">,</span> <span class="err">по</span> <span class="err">умолчанию</span> <span class="err">выключена</span>
</span><span class='line'><span class="o">//</span><span class="s">&quot;rulers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="o">//</span> <span class="err">пример</span> <span class="err">добавляет</span> <span class="err">две</span> <span class="err">линейки</span> <span class="err">на</span> <span class="err">позиции</span> <span class="mi">5</span> <span class="err">и</span> <span class="mi">10</span>
</span><span class='line'><span class="s">&quot;rulers&quot;</span><span class="p">:</span> <span class="p">[],</span>
</span><span class='line'>
</span><span class='line'><span class="o">//</span> <span class="n">Set</span> <span class="n">to</span> <span class="n">true</span> <span class="n">to</span> <span class="n">turn</span> <span class="n">spell</span> <span class="n">checking</span> <span class="n">on</span> <span class="n">by</span> <span class="n">default</span>
</span><span class='line'><span class="o">//</span> <span class="err">Проверка</span> <span class="err">на</span> <span class="err">ошибки</span> <span class="err">по</span> <span class="err">умолчанию</span><span class="o">.</span> <span class="err">Если</span> <span class="err">хочется</span><span class="p">,</span> <span class="err">то</span> <span class="err">можно</span> <span class="err">подключить</span> <span class="err">русский</span> <span class="err">словарь</span><span class="p">,</span> <span class="err">я</span> <span class="err">подключал</span><span class="o">.</span>
</span><span class='line'><span class="s">&quot;spell_check&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'><span class="o">//</span> <span class="n">Word</span> <span class="nb">list</span> <span class="n">to</span> <span class="n">use</span> <span class="k">for</span> <span class="n">spell</span> <span class="n">checking</span>
</span><span class='line'><span class="o">//</span> <span class="err">Подключение</span> <span class="err">словаря</span>
</span><span class='line'><span class="s">&quot;dictionary&quot;</span><span class="p">:</span> <span class="s">&quot;Packages/Language - English/en_US.dic&quot;</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'><span class="o">//</span> <span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">spaces</span> <span class="n">a</span> <span class="n">tab</span> <span class="ow">is</span> <span class="n">considered</span> <span class="n">equal</span> <span class="n">to</span>
</span><span class='line'><span class="o">//</span> <span class="err">количество</span> <span class="err">пробелов</span><span class="p">,</span> <span class="err">при</span> <span class="err">нажатии</span> <span class="n">tab</span><span class="p">,</span> <span class="err">хорошее</span> <span class="err">число</span> <span class="mi">4</span><span class="p">,</span> <span class="err">как</span> <span class="err">у</span> <span class="err">всех</span>
</span><span class='line'><span class="s">&quot;tab_size&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
</span><span class='line'>
</span><span class='line'><span class="o">//</span> <span class="n">Set</span> <span class="n">to</span> <span class="n">true</span> <span class="n">to</span> <span class="n">insert</span> <span class="n">spaces</span> <span class="n">when</span> <span class="n">tab</span> <span class="ow">is</span> <span class="n">pressed</span>
</span><span class='line'><span class="o">//</span> <span class="err">Установить</span> <span class="err">в</span> <span class="n">true</span> <span class="err">чтобы</span> <span class="err">вставлять</span> <span class="err">пробелы</span> <span class="err">вместо</span> <span class="n">tab</span><span class="p">,</span> <span class="err">если</span> <span class="err">нажимаем</span> <span class="n">tab</span><span class="p">,</span> <span class="err">я</span> <span class="err">обычно</span> <span class="err">ставлю</span> <span class="err">в</span> <span class="n">true</span>
</span><span class='line'><span class="s">&quot;translate_tabs_to_spaces&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="o">//</span> <span class="n">true</span>
</span><span class='line'>
</span><span class='line'><span class="o">//</span> <span class="n">The</span> <span class="n">encoding</span> <span class="n">to</span> <span class="n">use</span> <span class="n">when</span> <span class="n">the</span> <span class="n">encoding</span> <span class="n">can</span><span class="s">&#39;t be determined automatically.</span>
</span><span class='line'><span class="o">//</span> <span class="n">ASCII</span><span class="p">,</span> <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="ow">and</span> <span class="n">UTF</span><span class="o">-</span><span class="mi">16</span> <span class="n">encodings</span> <span class="n">will</span> <span class="n">be</span> <span class="n">automatically</span> <span class="n">detected</span><span class="o">.</span>
</span><span class='line'><span class="o">//</span> <span class="err">Если</span> <span class="err">файл</span> <span class="err">находится</span> <span class="err">не</span> <span class="err">в</span> <span class="err">кодировке</span> <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span> <span class="err">и</span> <span class="err">не</span> <span class="err">в</span> <span class="n">UTF</span><span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="err">то</span> <span class="err">в</span> <span class="err">какой</span> <span class="err">кодировке</span> <span class="err">его</span> <span class="err">открывать</span><span class="o">.</span> <span class="err">Для</span> <span class="err">большинства</span> <span class="err">русских</span> <span class="err">виндоузятников</span><span class="p">,</span> <span class="err">копировать</span> <span class="err">раскоментированную</span> <span class="err">строчку</span>
</span><span class='line'><span class="o">//</span><span class="s">&quot;fallback_encoding&quot;</span><span class="p">:</span> <span class="s">&quot;Western (Windows 1252)&quot;</span><span class="p">,</span>
</span><span class='line'><span class="s">&quot;fallback_encoding&quot;</span><span class="p">:</span> <span class="s">&quot;Cyrillic (Windows 1251)&quot;</span><span class="p">,</span>
</span></code></pre></td></tr></table></div></figure>


<p>Настроек, больше, кому нужно разберётся, начальные я рассказал.
Есть ещё файл с <strong>горячими клавишами</strong>, тоже можно разобраться, если нужно.</p>

<h3>Горячие клавиши, которые нужно знать</h3>

<p><strong>ctrl+p</strong> [show_files] - данное сочтание клавиш позволяет открыть/искать по разным файлам проекта, открытым, или находящимся в проекте<br/>
<strong>ctrl+r</strong> - поиск по именам функций, структур, похоже на список функций, &#8220;@&#8221;<br/>
<strong>ctrl+g</strong> - переход на строчку &#8220;:&#8221;<br/>
<strong>ctrl+;</strong> - поиск по переменным &#8220;#&#8221;</p>

<p>Символы &#8220;@, :, #&#8221; можно комбинировать, пример, вызываем строчку <strong>ctrl+p</strong>
далее вводим какие-то буквы из имени файла, к примеру у меня открыт файл <strong>Default(Linux).sublime-keymap</strong>
Для того, чтобы его выбрать достаточно ввести &#8220;deup&#8221;, редактор может понять и гораздо раньше, что вам нужно и подсветит введённые вами буквы в слове. Дальше можно скомбинировать <strong>ctrl+p</strong>, затем <strong>deup#ctrl</strong>, мы перейдём на первое вхождение ctrl, не так интересно, если бы рассматривали файл с кодом, можно было бы найти переменную с именем. Повторюсь, не обязательно помнить дословно, главное хотябы пару букв в нужном порядке :).</p>

<p><strong>ctrl+shift+p</strong> - вот это тоже шикарное сочитание клавиш <em>&#8220;command_palette&#8221;</em>, позволяет менять настройки редактора, маленький пример:<br/>
нажимаем <strong>ctrl+shift+p</strong>, затем вводим map, и эта команда нам уберёт/покажет миникарту файла.</p>

<h3>Выделение столбика</h3>

<p>Редактор без возможности редактировать столбики не редактор, по моему мнению</p>

<h4>Мышкой</h4>

<p><em>Windows</em><br/>
Right Mouse Button + Shift
OR: Middle Mouse Button
Add to selection: Ctrl
Subtract from selection: Alt</p>

<p><em>Linux</em><br/>
Right Mouse Button + Shift
Add to selection: Ctrl
Subtract from selection: Alt</p>

<h3>Клавиатурой</h3>

<p>Windows, Linux
Ctrl + Alt + Up
Ctrl + Alt + Down</p>

<blockquote><p>у меня в линуксе клавиатурой так не работает :(</p></blockquote>

<h3>Запуск приложения python</h3>

<p>Выбираем билдер (у нас python):</p>

<p>Tools -> Build System -> (choose) Python</p>

<p>ctrl+b - запустит приложение</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Django ORM без Джанги]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/django-orm-biez-dzhanghi/"/>
    <updated>2012-05-29T14:17:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/django-orm-biez-dzhanghi</id>
    <content type="html"><![CDATA[<h3>Буду краток</h3>

<p><strong>Проблема:</strong> использовать прелести Django ORM, а он хорош, но для проекта, который не для веба.</p>

<p>Есть ответы на <a href="http://stackoverflow.com/questions/579511/using-only-the-db-part-of-django">stackoverflow</a>,
а вот <a href="http://pypi.python.org/pypi/django-standalone">это</a> я не пробовал.</p>

<!-- more -->


<h3>Опишу свой путь</h3>

<p>файл <strong>settings.py</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c"># -*- coding: utf-8 -*-</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">os</span>
</span><span class='line'><span class="n">gettext</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span>
</span><span class='line'><span class="n">PROJECT_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">DEBUG</span> <span class="o">=</span> <span class="bp">True</span>
</span><span class='line'><span class="n">TEMPLATE_DEBUG</span> <span class="o">=</span> <span class="n">DEBUG</span>
</span><span class='line'>
</span><span class='line'><span class="n">ADMINS</span> <span class="o">=</span> <span class="p">(</span>
</span><span class='line'> <span class="c"># (&#39;Your Name&#39;, &#39;your_email@example.com&#39;),</span>
</span><span class='line'><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">LANGUAGES</span> <span class="o">=</span> <span class="p">[</span>
</span><span class='line'> <span class="p">(</span><span class="s">&#39;ru&#39;</span><span class="p">,</span> <span class="s">&#39;ru&#39;</span><span class="p">),</span>
</span><span class='line'><span class="p">]</span>
</span><span class='line'><span class="n">DEFAULT_LANGUAGE</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class='line'>
</span><span class='line'><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'> <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'> <span class="s">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span> <span class="c"># Add &#39;postgresql_psycopg2&#39;, &#39;postgresql&#39;, &#39;mysql&#39;, &#39;sqlite3&#39; or &#39;oracle&#39;.</span>
</span><span class='line'> <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PROJECT_PATH</span><span class="p">,</span> <span class="s">&#39;crimson.sqlite&#39;</span><span class="p">),</span>
</span><span class='line'> <span class="s">&#39;USER&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="c"># Not used with sqlite3.</span>
</span><span class='line'> <span class="s">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="c"># Not used with sqlite3.</span>
</span><span class='line'> <span class="s">&#39;HOST&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="c"># Set to empty string for localhost. Not used with sqlite3.</span>
</span><span class='line'> <span class="s">&#39;PORT&#39;</span><span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="c"># Set to empty string for default. Not used with sqlite3.</span>
</span><span class='line'> <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">TEST_DATABASE_CHARSET</span> <span class="o">=</span> <span class="s">&quot;utf8&quot;</span>
</span><span class='line'><span class="n">TEST_DATABASE_COLLATION</span> <span class="o">=</span> <span class="s">&quot;utf8_general_ci&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">TIME_ZONE</span> <span class="o">=</span> <span class="s">&#39;Europe/Moscow&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">LANGUAGE_CODE</span> <span class="o">=</span> <span class="s">&#39;ru-RU&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">SITE_ID</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'>
</span><span class='line'><span class="n">USE_I18N</span> <span class="o">=</span> <span class="bp">True</span>
</span><span class='line'>
</span><span class='line'><span class="c"># If you set this to False, Django will not format dates, numbers and</span>
</span><span class='line'><span class="c"># calendars according to the current locale</span>
</span><span class='line'><span class="n">USE_L10N</span> <span class="o">=</span> <span class="bp">True</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
</span><span class='line'><span class="c"># &#39;django.contrib.auth&#39;,</span>
</span><span class='line'><span class="c"># &#39;django.contrib.contenttypes&#39;,</span>
</span><span class='line'><span class="c"># &#39;django.contrib.sessions&#39;,</span>
</span><span class='line'><span class="c"># &#39;django.contrib.sites&#39;,</span>
</span><span class='line'><span class="c"># &#39;django.contrib.messages&#39;,</span>
</span><span class='line'><span class="c"># &#39;django.contrib.staticfiles&#39;,</span>
</span><span class='line'> <span class="s">&#39;src.data_utils&#39;</span><span class="p">,</span>
</span><span class='line'> <span class="s">&#39;src.crimsonmap&#39;</span><span class="p">,</span>
</span><span class='line'><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Создаём у себя в корне проекта такой файл.</p>

<p>Затем, там же в папке проекта <strong>manage.py</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#!/usr/bin/env python</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">django.core.management</span> <span class="kn">import</span> <span class="n">execute_manager</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">imp</span>
</span><span class='line'><span class="k">try</span><span class="p">:</span>
</span><span class='line'> <span class="n">imp</span><span class="o">.</span><span class="n">find_module</span><span class="p">(</span><span class="s">&#39;settings&#39;</span><span class="p">)</span> <span class="c"># Assumed to be in the same directory.</span>
</span><span class='line'><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
</span><span class='line'> <span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Error: Can&#39;t find the file &#39;settings.py&#39; in the directory containing </span><span class="si">%r</span><span class="s">. It appears you&#39;ve customized things.</span><span class="se">\n</span><span class="s">You&#39;ll have to run django-admin.py, passing it your settings module.</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">__file__</span><span class="p">)</span>
</span><span class='line'> <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">settings</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
</span><span class='line'> <span class="n">execute_manager</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ещё создаём пустой файл <strong><strong>init</strong>.py</strong></p>

<p>И файл <strong>urls.py</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">from</span> <span class="nn">django.conf.urls.defaults</span> <span class="kn">import</span> <span class="n">patterns</span><span class="p">,</span> <span class="n">include</span><span class="p">,</span> <span class="n">url</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Uncomment the next two lines to enable the admin:</span>
</span><span class='line'><span class="c"># from django.contrib import admin</span>
</span><span class='line'><span class="c"># admin.autodiscover()</span>
</span><span class='line'>
</span><span class='line'><span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
</span><span class='line'> <span class="c"># Examples:</span>
</span><span class='line'> <span class="c"># url(r&#39;^$&#39;, &#39;src.views.home&#39;, name=&#39;home&#39;),</span>
</span><span class='line'> <span class="c"># url(r&#39;^src/&#39;, include(&#39;src.foo.urls&#39;)),</span>
</span><span class='line'>
</span><span class='line'> <span class="c"># Uncomment the admin/doc line below to enable admin documentation:</span>
</span><span class='line'> <span class="c"># url(r&#39;^admin/doc/&#39;, include(&#39;django.contrib.admindocs.urls&#39;)),</span>
</span><span class='line'>
</span><span class='line'> <span class="c"># Uncomment the next line to enable the admin:</span>
</span><span class='line'> <span class="c"># url(r&#39;^admin/&#39;, include(admin.site.urls)),</span>
</span><span class='line'><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Теперь создаём папку с аппом, в котором будет лежать модель
у меня это src -&lt;&#8212; корень проекта, crimsonmap, это поддиректория
src/crimsonmap
В этой поддиректории создаём пустой файл:
<strong>init</strong>.py - это для того чтобы джанга поняла, что тут лежит апп
models.py</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c"># coding: utf-8</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="kn">import</span> <span class="n">ugettext_lazy</span> <span class="k">as</span> <span class="n">_</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Terrarian</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span><span class='line'>   <span class="n">ter_type</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">verbose_name</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&#39;terrarian type&#39;</span><span class="p">),</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span><span class='line'>   <span class="n">ter_color</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">verbose_name</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&#39;terrarian color html&#39;</span><span class="p">),</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="s">&#39;red&#39;</span><span class="p">)</span>
</span><span class='line'>   <span class="n">ter_hunting</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FloatField</span><span class="p">(</span><span class="n">verbose_name</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&#39;ter hunting percent&#39;</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span class='line'>   <span class="n">ter_meeting</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">FloatField</span><span class="p">(</span><span class="n">verbose_name</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&#39;ter meeting percent&#39;</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span class='line'>   <span class="n">player_maybehere</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s">&#39;player may be here&#39;</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Дальше как обычно из /src:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>python manage.py syncdb
</span></code></pre></td></tr></table></div></figure>


<p>создастся база данных и радость</p>

<p>И затем, когда нужно использовать нашу базу:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">os</span>
</span><span class='line'><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&quot;DJANGO_SETTINGS_MODULE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;settings&quot;</span>
</span><span class='line'><span class="kn">from</span> <span class="nn">models</span> <span class="kn">import</span> <span class="n">Terrarian</span>
</span></code></pre></td></tr></table></div></figure>


<p>Есть ещё пацанский метод заполнения базы данных, если кому нужно пишите в комментах, опишу, так лень.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Вкусные шорткаты Midnight Commander]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/vkusnyie-shortkaty-midnight-commander/"/>
    <updated>2012-05-29T14:14:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/vkusnyie-shortkaty-midnight-commander</id>
    <content type="html"><![CDATA[<p>Для каталогов:</p>

<p><strong>Alt-y</strong> перемещение к предыдущему каталогу (который был открыт, не к верхнему)<br/>
<strong>Alt-u</strong> перемещиени к следующему каталогу<br/>
<strong>Alt-i</strong> Сделать текущий каталог текущим на второй панели<br/>
<strong>Alt+o</strong> открыть текущий каталог на второй панели<br/>
<strong>Alt+t</strong> переключение режимов</p>

<p><strong>Alt+p</strong> Перемещение на предыдущую команду<br/>
<strong>Alt+n</strong> Перемещение на следующую команду</p>

<p><strong>Ctrl+x t (Ctrl+x Ctrl+t)</strong> копирует помеченые файлы в командную строку</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Замена ремонт почтового ящика]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/zamiena-riemont-pochtovogho-iashchika/"/>
    <updated>2012-05-29T14:06:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/zamiena-riemont-pochtovogho-iashchika</id>
    <content type="html"><![CDATA[<p>У меня была проблема: сломанный почтовый ящик (акт чьего-то вандализма :). Я погуглил в яндексе, и нашёл, что обычно ремонтировать не хотят.<br/>
Ремонтно-эксплуатационные службы посылают - говорят нет рем-комплекта.<br/>
Компании обслуживающие дом говорят, что мы производили замену почтовых ящиков N лет назад. И сейчас ваши проблемы с этим справляться.<br/>
Почта к ящикам вообще никакого отношения не имеет.</p>

<!-- more -->


<h3>Решение</h3>

<p> Я написал электронное письмо в Государственную жилищную инспекцию Санкт-Петербурга по адресу: gzhi собака <strong>gov.spb.ru</strong></p>

<p> <a href="http://gov.spb.ru/gov/admin/otrasl/inspekcija">сайт</a></p>

<p> В письме нужно указать следующее:</p>

<p><strong>ФИО</strong> (лучше честные)<br/>
<strong>Адрес</strong> ( Санкт-Петербург Улица NN  кв NN)<br/>
<strong>телефон</strong> 8-xxx-xxx-xx-xx (мне на него не звонили, но на всякий случай)</p>

<blockquote><ol>
<li>У нас сломан почтовый ящик: отломана дверца. Ящик находится в секции из 5 ящиков.
ТСЖ и ремонтно-эксплуатационные службы не хотят ни ремонтировать (нет рем-комплекта), ни менять.</li>
</ol>


<p>Что можно сделать, и куда обратиться подскажите пожалуйста.</p></blockquote>

<p>Излагать без лирики, по существу, так чтобы можно было коротко ответить, ответ придёт на почту бумажную, мне пришёл через 1.5 месяца, письмо шло месяц.</p>

<h3>Результат</h3>

<p>Ящик отремонтирован.</p>

<p>Точного алгоритма работы жилищной инспекции я не знаю, но по моим ощущениям было примерно так:</p>

<ol>
<li>Послали человечка проверить, действительно ли сломано.</li>
<li>Написать/позвонить представителям ТСЖ, объяснить, что не правы</li>
<li>Получить подтверждение, что исправлено</li>
<li>Написать вам письмо, какая работа проведена</li>
</ol>


<p>У меня на самом деле было два вопроса, второй по поводу замены фановых труб, их поменяли во всём доме, кроме нашего стояка.</p>

<p>В ответном письме пришло, что они не смогли проверить состояние стояка, нет доступа в квартиру. Зато из ТСЖ пришла коммисия из 4х человек, написали акт, что стояк в удовлетворительном состоянии.</p>

<p><strong>Результат: - </strong></p>

<p> ТСЖ говорят, что замену стояков производил город, и городской подрядчик. А в ТСЖ не далёкие люди, не проконтролировали работу.</p>

<p> По моему мнению, нужно снова покопаться в интернетах и написать ещё одно письмо с просьбой разобраться. На чьи деньги производился ремонт, кто нанимал подрядчиков, и куда ушли деньги за стояк.</p>

<h5>PS</h5>

<p>Возможно мне просто повезло и дело было перед выборами&#8230; Пишите в комментах кто найдет этот бложик, о результатах ваших обращений.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Добавление google webmasters]]></title>
    <link href="http://Anshik.github.com/blog/2012/05/29/dobavlieniie-google-webmasters/"/>
    <updated>2012-05-29T12:05:00+04:00</updated>
    <id>http://Anshik.github.com/blog/2012/05/29/dobavlieniie-google-webmasters</id>
    <content type="html"><![CDATA[<h3>Данное решение подходит не только под Google, но и под Yandex</h3>

<p>Для подтверждения прав владения сайтом нас просят добавить страничку на сайт, с названием примерно google9blablaf25be8.html и содержанием:</p>

<blockquote><p>google-site-verification: google9blablaf25be8.html</p></blockquote>

<p>Для этого мы создаем страничку rake new_page[&#8220;google9blablaf25be8.html&#8221;]<br/>
Затем редактируем её, удаляем заголовок, стандартный для постов и страниц, и оставляем только:</p>

<blockquote><p>google-site-verification: google9blablaf25be8.html</p></blockquote>

<p>Дальше как обычно:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake generate
</span><span class='line'>rake deploy
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
</feed>
