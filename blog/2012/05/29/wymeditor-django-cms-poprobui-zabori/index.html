<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Ещё один блог</title>
    <meta name="description" content="">
    <meta name="author" content="Anshik">

    <link rel="stylesheet" href="/theme/css/foundation.css" />
    <link rel="stylesheet" href="/theme/css/pygment/monokai.css" />
    <link rel="stylesheet" href="/theme/css/custom.css" />

    <link rel="stylesheet" href="/theme/css/magnific-popup.css" />


    <script src="/theme/js/modernizr.js"></script>

    <!-- Feeds -->


    <!-- mathjax config similar to math.stackexchange -->
    <script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			jax: ["input/TeX", "output/HTML-CSS"],
			tex2jax: {
				inlineMath: [ ['$', '$'] ],
				displayMath: [ ['$$', '$$']],
				processEscapes: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
			},
			messageStyle: "none",
			"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
		});
		</script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="off-canvas-wrap">
    <div class="inner-wrap">
        <!-- mobile top bar to activate nav -->
        <nav class="tab-bar show-for-small">
            <section class="left-small">
                <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
            </section>

            <section class="middle tab-bar-section">
                <h1 class="title">Ещё&nbsp;один&nbsp;блог</h1>
            </section>
        </nav>

        <!-- mobile side bar nav -->
        <aside class="left-off-canvas-menu">
            <ul class="off-canvas-list">
                <li><a href="">Главная</a></li>
                <li><label>Категории</label></li>
                    <li class="active"><a href="/category/raznoe.html">разное</a></li>

                <li><label>Ссылки</label></li>
                    <li><a href="/pages/training_school.html">Подготовка к школе</a></li>



                <li><label>Соц. сети</label></li>
                    <li><a href="http://vk.com/mnogosala">Я Вконтакте</a></li>
            </ul>
        </aside>

        <!-- top bar nav -->
        <nav class="top-bar hide-for-small-only" data-topbar>
            <ul class="title-area">
                <li class="name">
                    <h1><a href="/">Ещё один блог</a></h1>
                </li>
            </ul>

            <section class="top-bar-section">
                <ul class="right">
                            <li><a href="/pages/about.html">Обо мне</a></li>
                </ul>
            </section>
        </nav>

        <!-- Main Page Content and Sidebar -->
        <section class="main-section">
            <div class="row">
                <!-- Main Content -->
                <div class="medium-9 small-12 columns" role="content">
    <article>
        <h2>WYMeditor Django-cms попробуй забори</h2>
        <div class="entry-content">
            <h3>В общем сабж</h3>
<p>В интернете нашёл только краткий пост <a href="http://markeev.labwr.ru/2010/02/django-cms-wymeditor.html">Ивана Маркеева</a></p>
<p>Я не прочитал внимательно строчку:<br />
Приведенные <strong>WYM_STYLES</strong> определяют то, как контент будет выглядеть в редакторе. 
То есть просто как он будет выглядеть <strong>в редакторе</strong> :) В окошке редактирования
<!-- more -->
1. Для кастомизации <strong>WYMeditora</strong> в рамках <strong>Django-cms</strong> следует изменить свой файл настроек django проекта <strong>settings.py</strong>
дописав в него примерно следующее:</p>
<p>``` python Это нужно добавить в settings.py</p>
<h1>WYMEditor</h1>
<p>WYM_TOOLS = ",\n".join([
 "{'name': 'Bold', 'title': 'Strong', 'css': 'wym_tools_strong'}",
 "{'name': 'Italic', 'title': 'Emphasis', 'css': 'wym_tools_emphasis'}",
 "{'name': 'Superscript', 'title': 'Superscript', 'css': 'wym_tools_superscript'}",
 "{'name': 'Subscript', 'title': 'Subscript', 'css': 'wym_tools_subscript'}",
 "{'name': 'InsertOrderedList', 'title': 'Ordered_List', 'css': 'wym_tools_ordered_list'}",
 "{'name': 'InsertUnorderedList', 'title': 'Unordered_List', 'css': 'wym_tools_unordered_list'}",
 "{'name': 'Indent', 'title': 'Indent', 'css': 'wym_tools_indent'}",
 "{'name': 'Outdent', 'title': 'Outdent', 'css': 'wym_tools_outdent'}",
 "{'name': 'Undo', 'title': 'Undo', 'css': 'wym_tools_undo'}",
 "{'name': 'Redo', 'title': 'Redo', 'css': 'wym_tools_redo'}",
 "{'name': 'Paste', 'title': 'Paste_From_Word', 'css': 'wym_tools_paste'}",
 "{'name': 'ToggleHtml', 'title': 'HTML', 'css': 'wym_tools_html'}",
 #"{'name': 'CreateLink', 'title': 'Link', 'css': 'wym_tools_link'}",
 #"{'name': 'Unlink', 'title': 'Unlink', 'css': 'wym_tools_unlink'}",
 #"{'name': 'InsertImage', 'title': 'Image', 'css': 'wym_tools_image'}",
 "{'name': 'InsertTable', 'title': 'Table', 'css': 'wym_tools_table'}",
 #"{'name': 'Preview', 'title': 'Preview', 'css': 'wym_tools_preview'}",
])</p>
<p>WYM_CONTAINERS = ",\n".join([
 "{'name': 'P', 'title': 'Paragraph', 'css': 'wym_containers_p'}",
 "{'name': 'H1', 'title': 'Heading_1', 'css': 'wym_containers_h1'}",
 "{'name': 'H2', 'title': 'Heading_2', 'css': 'wym_containers_h2'}",
 "{'name': 'H3', 'title': 'Heading_3', 'css': 'wym_containers_h3'}",
 "{'name': 'H4', 'title': 'Heading_4', 'css': 'wym_containers_h4'}",
 "{'name': 'H5', 'title': 'Heading_5', 'css': 'wym_containers_h5'}",
 "{'name': 'H6', 'title': 'Heading_6', 'css': 'wym_containers_h6'}",
 "{'name': 'PRE', 'title': 'Preformatted', 'css': 'wym_containers_pre'}",
 "{'name': 'BLOCKQUOTE', 'title': 'Blockquote', 'css': 'wym_containers_blockquote'}",
 "{'name': 'TH', 'title': 'Table_Header', 'css': 'wym_containers_th'}",
])</p>
<p>WYM_CLASSES = ",\n".join([
 "{'name': 'date', 'title': 'PARA: Date', 'expr': 'p'}",
 "{'name': 'hidden-note', 'title': 'PARA: Hidden note', 'expr': 'p[@class!=\"important\"]'}",</p>
<p>"{'name': 'center', 'title': 'PARA: Center', 'expr': 'p'}",
 "{'name': 'contentheading', 'title': 'PARA: Center', 'expr': 'p, h1'}",</p>
<p>])</p>
<p>WYM_STYLES = ",\n".join([
 "{'name': '.hidden-note', 'css': 'color: #999; border: 2px solid #ccc;'}",
 "{'name': '.date', 'css': 'background-color: #ff9; border: 2px solid #ee9;'}",</p>
<p>"{'name': '.center', 'css': 'border: 20px solid #9acd32; text-align:center;'}",
 "{'name': '.contentheading', 'css': 'border: 5px solid #9acd32;'}",</p>
<p>])
```</p>
<h3>Многие спросят чего так много?!</h3>
<p>Это скопированно из стандартных настроек редактора
<strong>/usr/local/lib/python2.6/dist-packages/django_cms-2.2-py2.6.egg/cms/plugins/text/settings.py</strong>
Там читаем в начале коммент, для тех кто хочет подключить другой редактор, я не стал и дальше из того что скопировал в свой файл настроек django, поудалял строки такого вида:<br />
<strong>WYM_TOOLS = getattr(settings, "WYM_TOOLS", WYM_TOOLS)</strong><br />
этой строкой он лезет в наш settings.py проекта и достаёт то что мы кастомизируем. Можно кастомизировать не всё,
а только то, что нужно.</p>
<h3>Теперь по делу</h3>
<ol>
<li>
<p>WYM_TOOLS - это то что мы хотим видеть из кнопок настройки, или утилит, к примеру я для себя раскоментировал "{'name': 'InsertTable', 'title': 'Table', 'css': 'wym_tools_table'}",
Чтобы появилась возможность добавлять таблицы</p>
</li>
<li>
<p>WYM_CONTAINERS это, как следует из названия контейнеры. :)
Как получилось у меня: для того чтобы применить свойство контейнера для этого нужно было изначально заключить кусок текста в контейнер. Не понятно?</p>
</li>
</ol>
<blockquote>
<p>При добавлении контента может случиться так, что вы добавите контент без тега, в смысле, что он не будет заключён в тег параграфа. Тогда вы не сможете применить свойство контейнера.
Так что перед добавлением сначала нажмите пару раз Enter для появления в визуальном просмотре пары контейнеров <p></p>
</blockquote>
<p>2.1 Для того чтобы применить контейнер, к примеру {Heading_1}
Следует текст, который будет выделен этим тегом заключить в отдельный <code>&lt;p&gt;</code>
И тогда уже выделять этот отдельный <code>&lt;p&gt;</code> и выбирать контейнер, они могут переключаться. Т.е, {Heading_1} можно поменять на {Heading_2} не переключаясь сначала в параграф.</p>
<p><strong>Итог:</strong> текст для применения свойства контейнер должен находиться в теге <code>&lt;p&gt;</code></p>
<h3>WYM_CLASSES</h3>
<p>WYM_CLASSES пример:
<code>"{'name': 'contentheading', 'title': 'PARA: Center', 'expr': 'p, h1'}",</code><br />
Тут мы приступаем к самому вкусному и непонятному.
Данная строчка позволяет добавлять класс (contentheading) из нашей таблицы стилей сайта к заданным тегам:
'expr': 'p, h1', и отображаться это будет под названием 'title': 'PARA: Center'. Что такое пара, не интересовался. Center можно заменить на своё. Но вообще и работает просто любой title, например Таблица, такой который будет вам понятен.</p>
<p><strong>Другими словами:</strong> Добавили эту строчку, и к тегам <code>&lt;p&gt;</code>, <code>&lt;h1&gt;</code> можем нажатием на PARA: Center задавать класс contentheading заданному тегу.</p>
<h3>WYM_STYLES</h3>
<p>Вот эта строчка показывает нам что, если у нас в html коде встречается тег с классом .contentheading, то мы его обводим каёмочкой в 5 пикселей, и красим в цвет.
<code>"{'name': '.contentheading', 'css': 'border: 5px solid #9acd32;'}",</code>  </p>
<p>Вроде всё понятно.</p>
<h3>Особенность</h3>
<p>Заметил такую штуку, что когда мы применили {Classes} к параграфу, а потом решили сделать его всё-таки{Heading_1}, то нужно будет повторно применить класс, иначе он сбросится.</p>
        </div><!-- /.entry-content -->
        <hr/>

    </article>

    <h6><a href="/pages/about.html">Anshik</a> в <a href="/category/raznoe.html">разное</a>  Вт. 29 Май 2012. Tags: <a href="/tag/django.html">[Django</a>, <a href="/tag/django-cms.html">Django-cms</a>, <a href="/tag/wymeditor.html">WYMeditor]</a>, </h6>

    <hr/>
                </div>
                <!-- End Main Content -->
                <!-- Sidebar -->
                <aside class="medium-3 hide-for-small-only columns">



                    <div class="panel">
                        <h5>Социальные сети</h5>
                        <ul class="side-nav">
                                <li><a href="http://vk.com/mnogosala">Я Вконтакте</a></li>
                        </ul>
                    </div>
                </aside>
                <!-- End Sidebar -->
            </div>

            <!-- Footer -->
            <footer class="row">
                <div class="medium-9 small-12">
                    <hr/>
                    <p class="text-center">&copy; Anshik 2012-2015</p>
                </div>
            </footer>
            <!-- End Footer -->
        </section>
        <a class="exit-off-canvas"></a>
    </div><!--off-canvas inner-->
</div><!--off-canvas wrap-->

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="/theme/js/foundation.min.js"></script>
<script>
    $(document).foundation();
</script>

<script src="/theme/js/jquery.magnific-popup.min.js"></script>
<script>
    $('.gallery').magnificPopup({
        delegate: 'a',
        type: 'image',
        gallery: {
            enabled: true,
            navigateByImgClick: true,
            preload: [1,2]
        },
        image: {
            titleSrc: function(item) {
                if (item.el.attr('caption') && item.el.attr('exif')) {
                    return (item.el.attr('caption').replace(/\\n/g, '<br />') +
                    '<small>' + item.el.attr('title') + ' - ' + item.el.attr('exif') + '</small>');
                }
                return item.el.attr('title') + '<small>' + item.el.attr('exif') + '</small>';
            } }
    });
</script>
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter30550117 = new Ya.Metrika({id:30550117,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/30550117" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
</body>
</html>